# Макросы

Макросы — это пользовательские команды. Команды по созданию макросов описаны [здесь](https://github.com/Anton3/vk-admin-bot/blob/master/commands.md#макросы). Среди них самая важная — `/новыймакрос`.

## Простейший пример

```
/новыймакрос ку
/пинг
```

Это создаст команду `/ку`, которая заставит бота отреагировать так, как будто вы написали `/пинг`. Попробуйте:

```
Вы: /ку
Бот: Pong!
```

## Несколько команд сразу

```
/новыймакрос ку
/пинг
/пинг
```

```
Вы: /ку
Бот: Pong!
Бот: Pong!
```

## Передача параметров

Чтобы использовать первый, второй и так далее аргументы макроса, пишите `&1`, `&2` и так далее.

```
/новаяроль старожил
```

```
/новыймакрос стар
/дать старожил &1
```

```
Вы: /стар @юзер
Что видит бот: /дать старожил @юзер
```

## Передача всех параметров

Чтобы передать все параметры, начиная с первого, второго и так далее, пишите `&+1`, `&+2` и так далее.

```
/новыймакрос стар
/дать старожил &+1
```

```
Вы: /стар @юзер1 @юзер2 @юзер3
Что видит бот: /дать старожил @юзер1 @юзер2 @юзер3
```

## Список вставок

| Как пишется | Что означает |
| ---: | :--- |
| `&1` | Вставить первый аргумент макроса, если он есть |
| … | … |
| `&9` | Вставить девятый аргумент макроса, если он есть |
| `&+1` | Вставить первый и последующие аргументы макроса |
| … | … |
| `&+9` | Вставить девятый и последующие аргументы макроса |
| `&*` | Прикрепить пересланные сообщения |
| `&/` | Прикрепить вложения |
| `&&` | Просто вставить символ `&` |

## Нюансы

- Макрос может вызывать до 5 команд
- Макрос не может вызывать другие макросы
- Каждая команда в макросе может содержать не более 10 вставок
- Каждая команда должна начинаться с новой строки, иначе она будет считаться аргументом предыдущей команды
- Встроенные команды имеют приоритет перед макросами. Если ваш макрос ведёт себя совершенно не так, как вы думаете, то возможно, стоит попробовать другое имя макроса
